<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />

    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>

    <div class="container" id="schedule">
      <div class="time-block row past">Test
          <div class="saveBtn fas fa-save"></div>
      </div>
      <!-- <div class="time-block row present">Test</div>
      <div class="time-block row future">Test</div> -->
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            // grabs the current date/time from moment.js and assigns it to the currentDay element from above
            function setTime() {
              var currentDate = moment().format('MMMM Do YYYY, h:mm:ss a');
              document.getElementById("currentDay").innerHTML = currentDate;
            }
            
            // grabs the current hour from moment.js and ...
            function setHour() {
              var currentHour = moment().hour();
              console.log(currentHour);

              for (var i=0; i <= currentHour; i++) {
                if (i === currentHour) {
                  var hourblock = $("<div>");
                  hourblock.addClass("container row time-block present");
                  hourblock.text("Test present: " + i);
                  // hourblock.appendChild("saveBtn");
                  $("#schedule").append(hourblock);
                }
                
                else {
                  var hourblock = $("<div>");
                  hourblock.addClass("container row time-block past");
                  hourblock.text("Test past: " + i);
                  $("#schedule").append(hourblock);                  
                }
                }
                
              for (var i=(currentHour+1); i < 25; i++) {
                var hourblock = $("<div>");
                hourblock.addClass("container row time-block future");
                hourblock.text("Test future: " + i);
                $("#schedule").append(hourblock);
                }
              }


            // tells the program to run the setTime function each second and the setHour function each minute - might want to rethink including the for loops as part of the minutely refresh because it's recreating all of those time blocks every minute...instead of refreshing the page. idk.
            setInterval(setTime, 1000);
            // setInterval(setHour, 60000);
            setTime();
            setHour();

        });

        // moment().add(1, 'hours').calendar();
    // now i want to define how each row is dynamically created based based on which hour of the day we are in
        // if hour = current hour, create time block w class of present ; if before current hour, create w class of past ; if after current hour, create w class of future
    // allow user to enter text ; save button saves the text where it is/localStorage
    
    
    </script>
  </body>
</html>

